(this.webpackJsonpgridentio_new=this.webpackJsonpgridentio_new||[]).push([[0],{10:function(e,t,a){"use strict";a.r(t);var r=a(8),n=a(1),s=a(2),i=a(4),o=a(3),c=a(5),u=a(0),h=a.n(u),l=a(7),f=a.n(l);a(15);function v(e){var t;switch(e.value){case 1:t="bg-col1";break;case 2:t="bg-col2";break;case 3:t="bg-col3";break;default:t="bg-col4"}return h.a.createElement("button",{className:"square "+(e.highlight?"highlight":t),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseUp:e.onMouseUp,onMouseDown:e.onMouseDown},e.value)}var d=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(i.a)(this,Object(o.a)(t).call(this,e));for(var r=Array(5),s=r.length-1;s>=0;s--){r[s]=Array(5);for(var c=r[s].length-1;c>=0;c--)r[s][c]=b()}return a.state={squares:r,trace:[],points:0},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"handleMouse",value:function(e,t,a){if(this.hasMoreMoves())if(0===this.state.trace.length){if("down"===a){var n=this.state.trace.concat([{x:e,y:t}]);this.setState({trace:n})}}else{-1===e&&-1===t&&(a="up");var s=this.state.trace[this.state.trace.length-1];switch(e>-1&&t>-1&&!this.isAdjacent(e,t,s.x,s.y)&&this.setState({trace:[]}),a){case"enter":var i=this.isInTrace(e,t);i>-1?this.setState({trace:this.state.trace.splice(0,i+1)}):this.setState({trace:this.state.trace.concat([{x:e,y:t}])});break;case"up":if(-1===e&&-1===t){this.setState({trace:[]});break}var o=this.calculatePoints(),c=Object(r.a)(o,2),u=c[0],h=c[1];null!==h?this.setState({trace:[],points:this.state.points+u,squares:h}):this.setState({trace:[]})}}}},{key:"isInTrace",value:function(e,t){for(var a=0;a<this.state.trace.length;a++)if(this.state.trace[a].x===e&&this.state.trace[a].y===t)return a;return-1}},{key:"isAdjacent",value:function(e,t,a,r){var n=Math.abs(e-a),s=Math.abs(t-r);return 1===n&&0===s||0===n&&1===s}},{key:"calculatePoints",value:function(){var e=this.state.trace,t=this.state.squares;if(0===e.length||1===e.length)return[0,null];for(var a=t[e[0].x][e[1].y],r=a,n=1;n<e.length;n++){if(a!==t[e[n].x][e[n].y])return[0,null];r+=a}var s=Array(5);for(n=s.length-1;n>=0;n--){s[n]=Array(5);for(var i=s[n].length-1;i>=0;i--)s[n][i]=t[n][i]}for(n=0;n<e.length-1;n++)s[e[n].x][e[n].y]=b();return s[e[e.length-1].x][e[e.length-1].y]=r,[r,s]}},{key:"hasMoreMoves",value:function(){for(var e=0;e<5;e++)for(var t=e+1,a=0;a<5;a++){var r=a+1;if(t<5&&this.state.squares[e][a]===this.state.squares[t][a])return!0;if(r<5&&this.state.squares[e][a]===this.state.squares[e][r])return!0}return!1}},{key:"renderSquare",value:function(e,t){var a=this;return h.a.createElement(v,{value:this.state.squares[e][t],highlight:this.isInTrace(e,t)>-1,onMouseEnter:function(){return a.handleMouse(e,t,"enter")},onMouseUp:function(){return a.handleMouse(e,t,"up")},onMouseDown:function(){return a.handleMouse(e,t,"down")},key:e+"_"+t})}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<5;a++){for(var r=[],n=0;n<5;n++)r.push(this.renderSquare(a,n));t.push(h.a.createElement("div",{className:"board-row",key:a.toString()},r))}var s=(this.hasMoreMoves()?"Points: ":"Match ended. Points: ")+this.state.points;return h.a.createElement("div",null,h.a.createElement("div",{className:"status"},s),h.a.createElement("div",{onMouseLeave:function(){return e.handleMouse(-1,-1,"leave")}},t))}}]),t}(h.a.Component),g=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"game"},h.a.createElement("div",{className:"game-info"},"Game inspired by ",h.a.createElement("a",{href:"https://gridentify.com/"},"Gridentify")," with few changes."),h.a.createElement("div",{className:"game-board"},h.a.createElement(d,null)))}}]),t}(h.a.Component);function b(){return Math.floor(3*Math.random())+1}f.a.render(h.a.createElement(g,null),document.getElementById("root"))},15:function(e,t,a){},9:function(e,t,a){e.exports=a(10)}},[[9,1,2]]]);
//# sourceMappingURL=main.4ec00883.chunk.js.map